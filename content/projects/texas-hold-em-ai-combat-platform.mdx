---
title: "Texas Hold'em AI Combat Platform"
slug: "texas-hold-em-ai-combat-platform"
date: "2022-08-15"
role: ["Team Lead", "Programmer"]
summary: "Unity-based platform from my 2022 internship for hosting Texas Hold'em AI tournaments, complete with Lua/C#/WebSocket hooks and broadcast overlays."
tags: ["Unity", "AI", "Tooling", "Networking", "Simulation", "Websocket", "Lua"]
highlight: true
cover: ""
links: [{ label: "Github Repo", href: "https://github.com/kstjxy/TexasHoldemBattle" }]
---

import Gallery from "@/components/mdx/Gallery";
import coverImg from "./texas-hold-em-ai-combat-platform/cover.png";
import imgCSharp from "./texas-hold-em-ai-combat-platform/c_sharp.png";
import imgLua from "./texas-hold-em-ai-combat-platform/lua.png";
import imgWebSocket from "./texas-hold-em-ai-combat-platform/websocket.jpg";

export const cover = coverImg;

## Overview

During my 2022 game studio internship I led a three-person pod to build a Texas Hold'em tournament platform for internal AI competitions. Over 50 engineers uploaded bots, so we focused on reliable simulations, clear broadcast UI, and flexible integration points (C#, Lua, WebSocket).

## Tournament Flow

- **Setup:** Administrators pick entrants (uploaded modules or live WebSocket clients) and configure starting chips, blinds, and round limits.
- **Match loop:** The Unity host iterates through betting rounds, calling each bot’s `BetAction` or equivalent hook. Operators can slow down or accelerate matches for debugging.
- **Results:** Standings update automatically, and full logs—including RNG seeds and per-round actions—can be exported for postmortems.

## Module Interface

Participants can submit code in three ways:

1. **C# code module** in a specific format, placed in a designated folder (for debugging only).
2. **Lua module** written in a specific format, placed in a designated folder.
3. **WebSocket module** for interaction with the developer’s program.

<div className="not-prose my-8 space-y-12">
  {/* C# module overview */}
  <div className="grid grid-cols-1 items-start gap-6 md:grid-cols-2">
    <div>
      <h4 className="text-lg font-semibold">C# module overview</h4>
      <ul className="mt-2 list-disc pl-5 text-sm text-muted-foreground">
        <li><code>OnInit</code> method for AI player initialization.</li>
        <li><code>BetAction</code> method for choosing play actions.</li>
        <li><code>FinalSelection</code> method for selecting five cards for final hand strength calculation.</li>
        <li>
          The <code>GameStat</code> contains contest parameters (max rounds, minimum bet per round, etc.);
          <code> gamestat</code> represents the game state of the current round.
        </li>
      </ul>
    </div>
    <div className="rounded-lg bg-muted ">
      <img src={imgCSharp} alt="C# module interface example" className="h-auto w-full rounded-md" />
    </div>
  </div>

{/* Lua module overview */}

<div className="grid grid-cols-1 items-start gap-6 md:grid-cols-2">
  <div className="order-2 rounded-lg bg-muted md:order-1">
    <img src={imgLua} alt="Lua module interface example" className="h-auto w-full rounded-md" />
  </div>
  <div className="order-1 md:order-2">
    <h4 className="text-lg font-semibold">Lua module overview</h4>
    <ul className="mt-2 list-disc pl-5 text-sm text-muted-foreground">
      <li>
        <code>startfunction</code> method for initialization at contest start.
      </li>
      <li>
        <code>round_start</code> method for initialization at each game’s start.
      </li>
      <li>
        <code>action</code> method for choosing play actions.
      </li>
      <li>
        <code>finalcards</code> method for final card selection.
      </li>
      <li>
        Lua scripts directly access parameters from the C# server’s <code>gamestats</code>.
      </li>
    </ul>
  </div>
</div>

{/* Websocket module overview */}

  <div className="grid grid-cols-1 items-start gap-6 md:grid-cols-2">
    <div>
      <h4 className="text-lg font-semibold">Websocket module overview</h4>
      <ul className="mt-2 list-disc pl-5 text-sm text-muted-foreground">
        <li>Supports both Lua and WebSocket module interfaces, corresponding to <code>LuaAI</code> and <code>WebAI</code> classes.</li>
        <li>
          <code>OnInit</code>, <code>StartGame</code>, <code>RoundStart</code>, <code>BetAction</code>, and <code>FinalSelection</code>
          function similarly to C#, enabling AI initialization, data sync, round prep, play actions, and final card selection.
        </li>
      </ul>
    </div>
    <div className="rounded-lg bg-muted">
      <img src={imgWebSocket} alt="WebSocket client interface example" className="h-auto w-full rounded-md" />
    </div>
  </div>
</div>

## My Contributions

- Specced the architecture, task board, and build milestones while mentoring two fellow interns.
- Implemented the Unity host, match scheduler, and replay/logging pipeline.
- Authored sample AI bots and documentation to help new participants onboard quickly.

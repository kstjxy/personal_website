---
title: "Ray Tracing"
slug: "ray-tracing"
date: "2022-12-15"
role: ["Graphics Programmer"]
summary: "Python ray tracer supporting multiple primitives, textured materials, reflections, and Fusion 360 assets."
tags: ["Python", "Ray Tracing", "Rendering", "Procedural", "Shaders", "Fusion 360", "Blender"]
highlight: false
cover: ""
---

import Gallery from "@/components/mdx/Gallery";
import coverImg from "./ray-tracing/cover.png";
import imgObjects from "./ray-tracing/objects.png";
import imgIntersect from "./ray-tracing/intersect.png";
import imgShade from "./ray-tracing/shade.png";
import imgBlender from "./ray-tracing/blender.png";
import final1 from "./ray-tracing/Image_Video3-1.png";
import final2 from "./ray-tracing/unnamed7.png";

export const cover = coverImg;

## Overview

For CS4620 I wrote a CPU ray tracer in Python, then modeled a chess vignette to stress-test the pipeline. The renderer handles multiple primitives, hierarchical transforms, and material effects so I could focus on lighting and composition.

## Rendering Features

- **Primitives:** Sphere, triangle, cylinder, cone, and plane classes with dedicated intersection routines.
- **Lighting:** Ambient + point lights with Phong shading and recursive mirror reflections.
- **Materials:** Checkerboard texture sampler that swaps material properties based on UV position.
- **Mesh loader:** Imported Fusion 360 assets via Blender-exported OBJ files for rooks, knights, and crosses.

## Implementation Overview

<div className="not-prose my-8 space-y-12">
  {/* Primitives */}
  <div className="grid grid-cols-1 items-start gap-6 md:grid-cols-2">
    <div>
      <h4 className="text-lg font-semibold">Primitives & Geometry</h4>
      <ul className="mt-2 list-disc pl-5 text-sm text-muted-foreground">
        <li>Sphere, triangle, cylinder, cone, and plane supported.</li>
        <li>Each implemented as a dataclass with a shared <code>intersect(ray)</code> API.</li>
        <li>Hierarchical transforms let scenes compose complex objects quickly.</li>
      </ul>
    </div>
    <div className="rounded-lg bg-muted p-2">
      <img src={imgObjects} alt="Primitive objects overview" className="h-auto w-full rounded-md" />
    </div>
  </div>

{/* Intersection math */}

<div className="grid grid-cols-1 items-start gap-6 md:grid-cols-2">
  <div className="order-2 rounded-lg bg-muted p-2 md:order-1">
    <img
      src={imgIntersect}
      alt="Ray–object intersection snippet"
      className="h-auto w-full rounded-md"
    />
  </div>
  <div className="order-1 md:order-2">
    <h4 className="text-lg font-semibold">Intersections</h4>
    <ul className="mt-2 list-disc pl-5 text-sm text-muted-foreground">
      <li>Analytic sphere and plane tests; Möller–Trumbore for triangles.</li>
      <li>Returns hit distance, normal, and material payload for shading.</li>
    </ul>
  </div>
</div>

{/* Shading */}

<div className="grid grid-cols-1 items-start gap-6 md:grid-cols-2">
  <div>
    <h4 className="text-lg font-semibold">Shading Pipeline</h4>
    <ul className="mt-2 list-disc pl-5 text-sm text-muted-foreground">
      <li>Phong model with ambient + point lights and mirror reflections.</li>
      <li>Optional checkerboard texture swaps material properties via UV.</li>
      <li>Normal resolution, texture lookup, and diffuse/specular blend.</li>
    </ul>
  </div>
  <div className="rounded-lg bg-muted p-2">
    <img src={imgShade} alt="Shading code and normal debug" className="h-auto w-full rounded-md" />
  </div>
</div>

{/* Scene authoring */}

  <div className="grid grid-cols-1 items-start gap-6 md:grid-cols-2">
    <div className="order-2 rounded-lg bg-muted p-2 md:order-1">
      <img src={imgBlender} alt="Blender scene authoring and placement" className="h-auto w-full rounded-md" />
    </div>
    <div className="order-1 md:order-2">
      <h4 className="text-lg font-semibold">Scene Authoring</h4>
      <ul className="mt-2 list-disc pl-5 text-sm text-muted-foreground">
        <li>Modeled chess assets in Fusion 360; exported via Blender OBJ.</li>
        <li>Used reference scenes to match camera framing and scale.</li>
      </ul>
    </div>
  </div>
</div>

## Final Renders

<Gallery
  images={[
    { src: final1, alt: "Final chess scene render" },
    { src: final2, alt: "Alternate camera angle" },
  ]}
/>
